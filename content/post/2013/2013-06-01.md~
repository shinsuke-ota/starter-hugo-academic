+++
highlight = true
math = false
date = "2013-06-04T10:57:34+09:00"
title = "emacsで今日の日付のディレクトリを作成する"
tags = ["emacs"]

[header]
  caption = "a"
  image = ""

+++

emacsで今日の日付のディレクトリを作成する。
<!--more-->

## やりたいこと
  今日のディレクトリを作成してメモを取りたいこともある。

  ディレクトリがないと困ってしまうので、  ディレクトリを作成してからファイル名を返すようにする。

  "mkdir -p" みたいなことができればいいのになぁ。

  と思っていたら外部コマンドの呼び出しができるらしい。  でもシステム依存になるので下記のとおりで続行する。
## コード
```el
(defun my:org-capture-howm-file ()
  (progn
    (setq my:directory:thisyear (expand-file-name (concat org-directory (format-time-string "/howm/%Y"))))
    (setq my:directory:thismonth (concat my:directory:thisyear (format-time-string "/%m")))
    (setq my:directory:today (concat my:directory:thismonth (format-time-string "/%d")))
    (cond ((not (file-exists-p my:directory:thisyear))
	  (make-directory my:directory:thisyear)))
    (cond ((not (file-exists-p my:directory:thismonth))
	  (make-directory my:directory:thismonth)))
    (cond ((not (file-exists-p my:directory:today))
	  (make-directory my:directory:today)))
    (concat my:directory:today (format-time-string "/%Y%m%d-%H%M%S.org"))))
```

  外部コマンドの呼出は,
```el:
  (call-process "mkdir -p hoge/fuga" nil t nil)
```
  のようにすればよい。
